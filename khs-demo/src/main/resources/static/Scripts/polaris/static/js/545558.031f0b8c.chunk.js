"use strict";(self.webpackChunkpolaris_weboffice=self.webpackChunkpolaris_weboffice||[]).push([[545558],{545558:function(e,s,n){n.r(s),n.d(s,{default:function(){return O}});var t=n(601413),l=n(870885),a=n(747313),r=n(837490),c=n(827611),i=n(307360),o=n(735622),d=n(995124),u=n(981142),_=n(346417);function O(e){var s=e.dialogId,n=e.tabs[0].buttons,O=(0,a.useRef)(null),x=(0,a.useState)(""),C=(0,l.Z)(x,2),h=C[0],T=C[1],S=(0,a.useRef)(null),f=(0,a.useState)(""),N=(0,l.Z)(f,2),j=N[0],E=N[1],b=(0,a.useState)(""),D=(0,l.Z)(b,2),p=D[0],R=D[1],v=!1,P=!1;s!==d.O.OPEN_PASSWORD_CHANGE_DIALOG&&s!==d.O.WRITE_PASSWORD_CHANGE_DIALOG||(v=!0),s!==d.O.OPEN_PASSWORD_SETTING_DIALOG&&s!==d.O.OPEN_PASSWORD_CHANGE_DIALOG||(P=!0);var Z=(0,a.useCallback)((function(){var e=u.o.getPasswordStr(),s=P?e.szOpenPassword:e.szWritePassword;return h===s||(o.Z.showDialog({dialogId:d.O.COMMON_ALERT,bModal:!0,alertMsg:{label:"IDS_MSG_PROTECT_DOCUMENT_PASSWORD_WRONG",values:void 0},currentTabIndex:0},(function(){var e;null===(e=O.current)||void 0===e||e.focus()})),!1)}),[h,P]),w=(0,a.useCallback)((function(){if(j!==p)return o.Z.showDialog({dialogId:d.O.COMMON_ALERT,bModal:!0,alertMsg:{label:"IDS_MSG_PROTECT_DOCUMENT_NOT_IDENTICAL",values:void 0},currentTabIndex:0},(function(){var e;null===(e=S.current)||void 0===e||e.focus()})),!1;var e=u.o.getPasswordStr(),s=u.o.isReadOnlyRecommendedDoc();return P?u.o.setPasswordStr(j,e.szWritePassword,s):u.o.setPasswordStr(e.szOpenPassword,j,s),!0}),[p,j,P]),A=(0,a.useCallback)((function(e){if("Enter"===e.key){if(!w())return;o.Z.hideDialog(s)}}),[w,s]),m={buttonLabels:n,onClick:(0,a.useCallback)((function(e){if(0===e){if(!0===v&&!Z())return;if(!w())return}o.Z.hideDialog(s)}),[s,w,Z,v])};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)("div",{className:r.Z.popup_contents,children:(0,_.jsxs)("table",{className:"".concat(r.Z.form_table,"  ").concat(r.Z.mt5),children:[(0,_.jsxs)("colgroup",{children:[(0,_.jsx)("col",{style:{width:"190px"}}),(0,_.jsx)("col",{style:{width:"auto"}})]}),(0,_.jsxs)("tbody",{children:[v?(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:(0,_.jsx)(i.Z,{label:"PROTECT_DOCUMENT_PASSSWORD_CURRENT"})}),(0,_.jsx)("td",{children:(0,_.jsx)("div",{className:"".concat(r.Z.multi_select),children:(0,_.jsx)("div",{className:r.Z.i_txt,children:(0,_.jsx)("input",{type:"password",ref:O,value:h,onChange:function(e){T(e.target.value)},onKeyDown:A,spellCheck:!1})})})})]}):null,(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:(0,_.jsx)(i.Z,{label:v?"PROTECT_DOCUMENT_PASSSWORD_NEW":"PROTECT_DOCUMENT_PASSSWORD_ENTER"})}),(0,_.jsx)("td",{children:(0,_.jsx)("div",{className:"".concat(r.Z.multi_select),children:(0,_.jsx)("div",{className:r.Z.i_txt,children:(0,_.jsx)("input",{type:"password",value:j,onChange:function(e){E(e.target.value)},onKeyDown:A,spellCheck:!1})})})})]}),(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:(0,_.jsx)(i.Z,{label:"PROTECT_DOCUMENT_PASSSWORD_CONFIRMATION"})}),(0,_.jsx)("td",{children:(0,_.jsx)("div",{className:"".concat(r.Z.multi_select),children:(0,_.jsx)("div",{className:r.Z.i_txt,children:(0,_.jsx)("input",{type:"password",ref:S,value:p,onChange:function(e){R(e.target.value)},onKeyDown:A,spellCheck:!1})})})})]}),(0,_.jsx)("tr",{children:(0,_.jsx)("td",{colSpan:2,children:(0,_.jsx)(i.Z,{label:P?"PROTECT_DOCUMENT_NOTICE":"PROTECT_DOCUMENT_NOTICE_WRITE_PASSWORD"})})})]})]})}),(0,_.jsx)(c.Z,(0,t.Z)({},m))]})}},827611:function(e,s,n){n.d(s,{Z:function(){return r}});n(747313);var t=n(837490),l=n(307360),a=n(346417);function r(e){var s=e.buttonLabels,n=e.onClick,r=e.buttonDisableStates;return(0,a.jsx)("div",{className:t.Z.popup_btn_wrap,children:s.map((function(e,s){var c=!!r&&r[s];return(0,a.jsx)("button",{className:"".concat(t.Z.p_btn," ").concat(t.Z.normal),onClick:function(){return n(s)},disabled:c,children:(0,a.jsx)(l.Z,{label:e})},s)}))})}}}]);