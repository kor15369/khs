"use strict";(self.webpackChunkpolaris_weboffice=self.webpackChunkpolaris_weboffice||[]).push([[18398],{18398:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(601413),a=t(870885),l=t(747313),c=t(837490),i=t(827611),r=t(735622),o=t(700936),u=t(815e3),d=t(634077),h=t(416031),x=t(995124),f=t(180252),p=t(613578),m=t(599156),b=t(981142),g=t(977917),j=t(407604),v=t(346417),Z=126;function _(e){var n=(0,f.I0)(),t=e.searchServer,s=e.searchText,a=e.page,i=e.thumbnailItems,r=e.selectedIndices,o=e.onClickThumbnail,u=(0,l.useCallback)((function(e){o(e)}),[o]),d=(0,l.useCallback)((function(e){var l=e.nativeEvent.srcElement,c=l.offsetHeight,i=l.scrollTop,r=l.scrollHeight;i+c+Z>=r&&(t===p.VN?n((0,p.Oe)(s,a+1)):t===p.fd&&n((0,p.iu)(s,a+1)))}),[t,n,s,a]);return(0,v.jsx)(v.Fragment,{children:i.length>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:c.Z.img_list,onScroll:d,children:i&&i.map((function(e,n){return(0,v.jsx)("div",{className:c.Z.item,onClick:function(){return u(n)},children:(0,v.jsxs)("div",{className:"".concat(c.Z.online_picture_item),children:[(0,v.jsx)("img",{src:e.previewURL,alt:""}),r.includes(n)?(0,v.jsx)("label",{className:"".concat(c.Z.chk_label),children:(0,v.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0})}):""]})},n)}))}),(0,v.jsxs)("div",{className:c.Z.txt_cont,children:[t===p.VN?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{children:"\xa92018 Pixabay"}),(0,v.jsx)("a",{href:"https://pixabay.com",rel:"noreferrer",target:"_blank",children:"Pixabay\uc5d0\uc11c \uc774\ubbf8\uc9c0 \ucc3e\uae30"})]}):"",t===p.fd?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{children:"\xa92018 PEXELS"}),(0,v.jsx)("a",{href:"https://pexels.com",rel:"noreferrer",target:"_blank",children:"PEXELS \uc774\ubbf8\uc9c0 \ucc3e\uae30"})]}):""]})]}):null})}function N(){var e=(0,o.Z)().formatMessage;return(0,v.jsxs)("div",{className:c.Z.download_progress_box,children:[(0,v.jsx)("div",{className:c.Z.spinner}),(0,v.jsx)("div",{className:c.Z.txt_info,children:e({id:"IDS_MSG_DLG_ONLINE_PICTURE_DOWNLOAD_PROGRESS"})})]})}function k(e){var n=(0,f.I0)(),t=(0,o.Z)().formatMessage,Z=e.dialogId,k=e.tabs,I=e.dialogIndex,C=k[0].buttons,S=(0,l.useRef)(null),E=(0,f.v9)(p.SL),y=E.searchServer,T=E.searchText,O=E.page,R=E.thumbnailItems,D=(0,l.useState)([]),P=(0,a.Z)(D,2),w=P[0],L=P[1],M=(0,l.useState)(0),V=(0,a.Z)(M,2),A=V[0],G=V[1],W=(0,l.useState)([]),F=(0,a.Z)(W,2),U=F[0],z=F[1],H=(0,l.useState)(!1),K=(0,a.Z)(H,2),X=K[0],q=K[1],Y=(0,f.v9)((0,j.R1)(I)).scrollTop;(0,l.useEffect)((function(){var e=u.ZP.get("pixabaySearchAPIKey")||"",t=u.ZP.get("pexelsSearchAPIKey")||"",s=[];return(0,h.isEmpty)(e)||s.push(p.VN),(0,h.isEmpty)(t)||s.push(p.fd),z(s),function(){n((0,p.gl)())}}),[n]);var B=(0,l.useCallback)((function(e){var n=w.slice(0);n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),L(n)}),[w]),J=(0,l.useCallback)((function(e){if(0===e){var n=w.map((function(e){return R[e].imageURL})),t=n.length;if(t<1)return;q(!0),(0,m.lz)(n).then((function(e){e.forEach((function(e,n){n+1===t?(b.o.imageInsert(e,0,0,0,0,0,!1,!1),q(!1),r.Z.hideDialog(Z)):b.o.imageInsert(e,0,0,0,0,0,!1,!0)}))})).catch((function(e){g.ZP.error("requestOnlineImages error = ".concat(e)),q(!1),r.Z.hideDialog(Z)}))}else r.Z.hideDialog(Z)}),[Z,w,R]),Q={buttonLabels:C,buttonDisableStates:[w.length<1,!1],onClick:J},$=(0,l.useCallback)((function(e){if("Enter"===e.key){var t=S.current&&S.current.value||"";if((0,h.isEmpty)(t))return void r.Z.showDialog({dialogId:x.O.COMMON_ALERT,bModal:!0,alertMsg:{label:"IDS_MSG_ERROR_EMPTY_INPUT",values:void 0},currentTabIndex:0});if(y===U[A]&&T===t)return;L([]),U[A]===p.VN?n((0,p.Oe)(t,1)):U[A]===p.fd&&n((0,p.iu)(t,1))}}),[n,y,T,U,A]),ee=(0,l.useCallback)((function(e){e!==A&&G(e)}),[A]),ne=(0,l.useMemo)((function(){return{list:U.map((function(e){return{text:e}})),currentIndex:A,onClickItem:ee,inputValue:U[A],inputWidth:240,scrollTop:Y}}),[U,ee,Y,A]);return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsxs)("div",{className:c.Z.popup_contents,onKeyDown:$,children:[(0,v.jsxs)("table",{className:c.Z.form_table,children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{style:{width:"240px"}}),(0,v.jsx)("col",{style:{width:"auto"}})]}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)(d.r,(0,s.Z)({},ne))}),(0,v.jsx)("td",{children:(0,v.jsx)("input",{type:"text",className:c.Z.f_txt,ref:S,placeholder:t({id:"DLG_INSERT_ONLINE_PICTURE_SEARCH_IMAGE"})})})]})})]}),U[A]===p.VN&&0===R.length?(0,v.jsx)("div",{className:c.Z.pixabay_logo,children:"pixabay"}):null,U[A]===p.fd&&0===R.length?(0,v.jsx)("div",{className:c.Z.pexels_logo,children:"pexels"}):null,(0,v.jsx)(_,{searchServer:y,searchText:T,page:O,thumbnailItems:R,selectedIndices:w,onClickThumbnail:B}),X?(0,v.jsx)(N,{}):null]}),(0,v.jsx)(i.Z,(0,s.Z)({},Q))]})}},827611:function(e,n,t){t.d(n,{Z:function(){return c}});t(747313);var s=t(837490),a=t(307360),l=t(346417);function c(e){var n=e.buttonLabels,t=e.onClick,c=e.buttonDisableStates;return(0,l.jsx)("div",{className:s.Z.popup_btn_wrap,children:n.map((function(e,n){var i=!!c&&c[n];return(0,l.jsx)("button",{className:"".concat(s.Z.p_btn," ").concat(s.Z.normal),onClick:function(){return t(n)},disabled:i,children:(0,l.jsx)(a.Z,{label:e})},n)}))})}},634077:function(e,n,t){t.d(n,{r:function(){return r}});var s=t(870885),a=t(747313),l=t(59199),c=t(837490),i=t(346417),r=(0,a.forwardRef)((function(e,n){var t=e.list,r=e.currentIndex,o=e.isDisable,u=e.inputWidth,d=e.canEditInput,h=void 0!==d&&d,x=e.scrollTop,f=(0,a.useState)(!1),p=(0,s.Z)(f,2),m=p[0],b=p[1],g=(0,a.useState)(""),j=(0,s.Z)(g,2),v=j[0],Z=j[1];(0,a.useEffect)((function(){e.inputValue?Z(e.inputValue||""):t[r]&&Z(t[r].text)}),[r,t,e.inputValue]);var _=(0,a.useCallback)((function(){o||b(!m)}),[o,m]),N=(0,a.useCallback)((function(){b(!1)}),[]),k=(0,a.useCallback)((function(n){b(!1),Z(t[n].text),e.onClickItem&&e.onClickItem(n)}),[t,e]),I=(0,a.useCallback)((function(n){var t=n.target.value;Z(t),e.onChangeInput&&e.onChangeInput(t)}),[e]),C="".concat(c.Z.custom_select," ").concat(o?"".concat(c.Z.disabled):""),S="".concat(c.Z.current),E={},y={},T={display:m?"block":"none",marginTop:"".concat(2-(x||0),"px")};return u&&(E.minWidth="".concat(u,"px"),E.width="auto",h&&(y.minWidth="".concat(u,"px"),y.boxSizing="border-box"),T.minWidth="".concat(u,"px"),T.boxSizing="border-box"),(0,i.jsx)("div",{className:C,children:(0,i.jsxs)(l.default,{onOutsideClick:N,children:[h?(0,i.jsx)("div",{className:c.Z.multi_select,children:(0,i.jsxs)("div",{className:c.Z.i_txt,style:y,children:[(0,i.jsx)("input",{type:"text",ref:n,value:v,onChange:I}),(0,i.jsx)("button",{className:c.Z.toggle,onClick:_,children:(0,i.jsx)("span",{children:"toggle"})})]})}):(0,i.jsx)("button",{className:S,style:E,onClick:_,children:(0,i.jsx)("span",{children:v})}),!t||t.length<1?null:(0,i.jsx)("ul",{className:c.Z.list,style:T,children:t.map((function(e,n){var t=n===r?"".concat(c.Z.active):"";return(0,i.jsx)("li",{className:c.Z.list,onClick:function(){return k(n)},children:(0,i.jsx)("button",{className:t,children:(0,i.jsx)("span",{children:e.text})})},n)}))})]})})}))}}]);